{"ast":null,"code":"import _slicedToArray from\"D:/DKHP_demo/dkhp_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Route,Routes,useNavigate}from\"react-router-dom\";import ErrorPage from\"../Page/ErrorPage\";import{createContext,useEffect,useState}from\"react\";import CoursePage from\"../AdminPage/CoursePage\";import{useSnackbar}from\"notistack\";import SubjectPage from\"../AdminPage/SubjectPage\";import AdminNavBar from\"../AdminComponent/AdminNavbar\";import StudentPage from\"../AdminPage/StudentPage\";import WelcomePage from\"../AdminPage/WelcomePage\";import OpeningRegPeriod from\"../AdminPage/OpeningRegPeriod\";import SemesterPage from\"../AdminPage/SemesterPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AdminContext=/*#__PURE__*/createContext();function AdminRouter(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var navigate=useNavigate();var anchorOrigin={horizontal:'center',vertical:'bottom'};var logOut=function logOut(){localStorage.removeItem(\"Authorization\");localStorage.removeItem(\"Role\");navigate(\"/login\");};useEffect(function(){if(error!=null&&error.response){if(error.response.status==401)logOut();var config={variant:'danger',anchorOrigin:anchorOrigin};enqueueSnackbar(error.response.data,config);}},[error]);return/*#__PURE__*/_jsxs(AdminContext.Provider,{value:{setError:setError},children:[/*#__PURE__*/_jsx(AdminNavBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(WelcomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/CoursePage\",element:/*#__PURE__*/_jsx(CoursePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/SubjectPage\",element:/*#__PURE__*/_jsx(SubjectPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/StudentPage\",element:/*#__PURE__*/_jsx(StudentPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/OpeningRegPeriod\",element:/*#__PURE__*/_jsx(OpeningRegPeriod,{})}),/*#__PURE__*/_jsx(Route,{path:\"/SemesterPage\",element:/*#__PURE__*/_jsx(SemesterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(ErrorPage,{message:\"404 Not Found!\"})})]})]});}export default AdminRouter;","map":{"version":3,"names":["Route","Routes","useNavigate","ErrorPage","createContext","useEffect","useState","CoursePage","useSnackbar","SubjectPage","AdminNavBar","StudentPage","WelcomePage","OpeningRegPeriod","SemesterPage","jsx","_jsx","jsxs","_jsxs","AdminContext","AdminRouter","_useSnackbar","enqueueSnackbar","_useState","_useState2","_slicedToArray","error","setError","navigate","anchorOrigin","horizontal","vertical","logOut","localStorage","removeItem","response","status","config","variant","data","Provider","value","children","exact","path","element","message"],"sources":["D:/DKHP_demo/dkhp_frontend/src/Router/AdminRouter.js"],"sourcesContent":["import { Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport ErrorPage from \"../Page/ErrorPage\"\r\nimport { createContext, useEffect, useState } from \"react\";\r\nimport CoursePage from \"../AdminPage/CoursePage\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport SubjectPage from \"../AdminPage/SubjectPage\";\r\nimport AdminNavBar from \"../AdminComponent/AdminNavbar\";\r\nimport StudentPage from \"../AdminPage/StudentPage\";\r\nimport WelcomePage from \"../AdminPage/WelcomePage\";\r\nimport OpeningRegPeriod from \"../AdminPage/OpeningRegPeriod\";\r\nimport SemesterPage from \"../AdminPage/SemesterPage\";\r\n\r\nexport const AdminContext= createContext();\r\nfunction AdminRouter(){\r\n          const { enqueueSnackbar } = useSnackbar();\r\n          const[error, setError]=useState(null);\r\n          const navigate = useNavigate();\r\n          let anchorOrigin = { horizontal: 'center' , vertical: 'bottom'}\r\n          const logOut=()=>{\r\n               localStorage.removeItem(\"Authorization\");\r\n               localStorage.removeItem(\"Role\")\r\n               navigate(\"/login\");\r\n          }\r\n          useEffect(()=>{\r\n               if(error!=null&&error.response){\r\n                    if(error.response.status==401) logOut();\r\n                    let config = {variant: 'danger',anchorOrigin:anchorOrigin}\r\n                    enqueueSnackbar(error.response.data,config);\r\n               }\r\n          },[error])\r\n          return(\r\n                    <AdminContext.Provider value={{setError}}>\r\n                         <AdminNavBar/>\r\n                         <Routes>\r\n                                   <Route exact path=\"/\" element={<WelcomePage/>}/>\r\n                                   <Route path=\"/CoursePage\" element={<CoursePage/>}/>\r\n                                   <Route path=\"/SubjectPage\" element={<SubjectPage/>}/>\r\n                                   <Route path=\"/StudentPage\" element={<StudentPage/>}/>\r\n                                   <Route path=\"/OpeningRegPeriod\" element={<OpeningRegPeriod/>}/>\r\n                                   <Route path=\"/SemesterPage\" element={<SemesterPage/>}/>\r\n                                   <Route path=\"/*\" element={<ErrorPage message=\"404 Not Found!\"/>}/>\r\n                         </Routes>\r\n                    </AdminContext.Provider>\r\n          )\r\n}\r\nexport default AdminRouter;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}