{"ast":null,"code":"import{API_ENDPOINT}from\"../Util/Constraint\";import AxiosService from\"../Util/AxiosService\";import{SSE}from\"sse.js\";var url='/api/courses';export var getOpenedCourses=function getOpenedCourses(){return AxiosService.get(API_ENDPOINT+url+'/openedCourses');};export var getEnrolledCourses=function getEnrolledCourses(){return AxiosService.get(API_ENDPOINT+url+'/enrolledCourses');};export var getStudiedCourses=function getStudiedCourses(semesterId){return AxiosService.get(API_ENDPOINT+url+'/enrolledCourses?semesterId='+semesterId);};export var addCourse=function addCourse(CourseDTO){return AxiosService.post(API_ENDPOINT+url+'/admin/addCourse',CourseDTO,true);};export var getAllCourses=function getAllCourses(){return AxiosService.get(API_ENDPOINT+url+'/admin/all');};export var removeCourse=function removeCourse(id){return AxiosService.delete(API_ENDPOINT+url+'/admin/removeCourse/'+id);};export var getUpdatedRegNumbers=function getUpdatedRegNumbers(setRegNumbers){var sseClient=new SSE(API_ENDPOINT+url+\"/updateRegNumbers\",{headers:{Authorization:localStorage.getItem(\"Authorization\")}});sseClient.addEventListener(\"message\",function(e){var jsonObject=JSON.parse(e.data);var updatedRegNumbers=new Map(Object.entries(jsonObject));//console.log(\"Reg numbers\",updatedRegNumbers);\nsetRegNumbers(updatedRegNumbers);});sseClient.addEventListener(\"error\",function(err){console.log(\"Error \"+err);});return sseClient;};","map":{"version":3,"names":["API_ENDPOINT","AxiosService","SSE","url","getOpenedCourses","get","getEnrolledCourses","getStudiedCourses","semesterId","addCourse","CourseDTO","post","getAllCourses","removeCourse","id","delete","getUpdatedRegNumbers","setRegNumbers","sseClient","headers","Authorization","localStorage","getItem","addEventListener","e","jsonObject","JSON","parse","data","updatedRegNumbers","Map","Object","entries","err","console","log"],"sources":["D:/DKHP_demo/dkhp_frontend/src/API/CourseAPI.js"],"sourcesContent":["import { API_ENDPOINT } from \"../Util/Constraint\";\r\nimport AxiosService from \"../Util/AxiosService\";\r\nimport {SSE} from \"sse.js\"\r\nconst url='/api/courses';\r\n\r\nexport const getOpenedCourses=()=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/openedCourses');\r\n}\r\n\r\nexport const getEnrolledCourses=()=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/enrolledCourses')\r\n}\r\n\r\nexport const getStudiedCourses=(semesterId)=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/enrolledCourses?semesterId='+semesterId)\r\n}\r\n\r\nexport const addCourse=(CourseDTO)=>{\r\n    return AxiosService.post(API_ENDPOINT + url+'/admin/addCourse',CourseDTO,true);\r\n}\r\n\r\nexport const getAllCourses = () => {\r\n    return AxiosService.get(API_ENDPOINT + url + '/admin/all');\r\n}\r\n\r\nexport const removeCourse = (id) => {\r\n    return AxiosService.delete(API_ENDPOINT + url + '/admin/removeCourse/' + id);\r\n}\r\nexport const getUpdatedRegNumbers=(setRegNumbers)=>{\r\n    var sseClient= new SSE(API_ENDPOINT + url +\"/updateRegNumbers\",{\r\n      headers:{Authorization: localStorage.getItem(\"Authorization\")}\r\n    });\r\n    sseClient.addEventListener(\"message\",(e)=>{\r\n        var jsonObject=JSON.parse(e.data);\r\n        var updatedRegNumbers=new Map(Object.entries(jsonObject));\r\n        //console.log(\"Reg numbers\",updatedRegNumbers);\r\n        setRegNumbers(updatedRegNumbers);\r\n    })\r\n    sseClient.addEventListener(\"error\",(err)=>{\r\n        console.log(\"Error \"+err);\r\n    })\r\n    return sseClient;\r\n}"],"mappings":"AAAA,OAASA,YAAY,KAAQ,oBAAoB,CACjD,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,OAAQC,GAAG,KAAO,QAAQ,CAC1B,GAAM,CAAAC,GAAG,CAAC,cAAc,CAExB,MAAO,IAAM,CAAAC,gBAAgB,CAAC,QAAjB,CAAAA,gBAAgBA,CAAA,CAAK,CACxB,MAAO,CAAAH,YAAY,CAACI,GAAG,CAACL,YAAY,CAAGG,GAAG,CAAC,gBAAgB,CAAC,CACtE,CAAC,CAED,MAAO,IAAM,CAAAG,kBAAkB,CAAC,QAAnB,CAAAA,kBAAkBA,CAAA,CAAK,CAC1B,MAAO,CAAAL,YAAY,CAACI,GAAG,CAACL,YAAY,CAAGG,GAAG,CAAC,kBAAkB,CAAC,CACxE,CAAC,CAED,MAAO,IAAM,CAAAI,iBAAiB,CAAC,QAAlB,CAAAA,iBAAiBA,CAAEC,UAAU,CAAG,CACnC,MAAO,CAAAP,YAAY,CAACI,GAAG,CAACL,YAAY,CAAGG,GAAG,CAAC,8BAA8B,CAACK,UAAU,CAAC,CAC/F,CAAC,CAED,MAAO,IAAM,CAAAC,SAAS,CAAC,QAAV,CAAAA,SAASA,CAAEC,SAAS,CAAG,CAChC,MAAO,CAAAT,YAAY,CAACU,IAAI,CAACX,YAAY,CAAGG,GAAG,CAAC,kBAAkB,CAACO,SAAS,CAAC,IAAI,CAAC,CAClF,CAAC,CAED,MAAO,IAAM,CAAAE,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC/B,MAAO,CAAAX,YAAY,CAACI,GAAG,CAACL,YAAY,CAAGG,GAAG,CAAG,YAAY,CAAC,CAC9D,CAAC,CAED,MAAO,IAAM,CAAAU,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,EAAE,CAAK,CAChC,MAAO,CAAAb,YAAY,CAACc,MAAM,CAACf,YAAY,CAAGG,GAAG,CAAG,sBAAsB,CAAGW,EAAE,CAAC,CAChF,CAAC,CACD,MAAO,IAAM,CAAAE,oBAAoB,CAAC,QAArB,CAAAA,oBAAoBA,CAAEC,aAAa,CAAG,CAC/C,GAAI,CAAAC,SAAS,CAAE,GAAI,CAAAhB,GAAG,CAACF,YAAY,CAAGG,GAAG,CAAE,mBAAmB,CAAC,CAC7DgB,OAAO,CAAC,CAACC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAC/D,CAAC,CAAC,CACFJ,SAAS,CAACK,gBAAgB,CAAC,SAAS,CAAC,SAACC,CAAC,CAAG,CACtC,GAAI,CAAAC,UAAU,CAACC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACI,IAAI,CAAC,CACjC,GAAI,CAAAC,iBAAiB,CAAC,GAAI,CAAAC,GAAG,CAACC,MAAM,CAACC,OAAO,CAACP,UAAU,CAAC,CAAC,CACzD;AACAR,aAAa,CAACY,iBAAiB,CAAC,CACpC,CAAC,CAAC,CACFX,SAAS,CAACK,gBAAgB,CAAC,OAAO,CAAC,SAACU,GAAG,CAAG,CACtCC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAACF,GAAG,CAAC,CAC7B,CAAC,CAAC,CACF,MAAO,CAAAf,SAAS,CACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}