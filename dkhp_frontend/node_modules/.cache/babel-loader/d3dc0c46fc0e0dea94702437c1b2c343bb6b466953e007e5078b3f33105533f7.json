{"ast":null,"code":"import{jwtDecode}from\"jwt-decode\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var isExpiredToken=function isExpiredToken(token){var decodedToken=jwtDecode(token);var now=new Date();return decodedToken.exp*1000<now.getTime();};var ProtectedRouter=function ProtectedRouter(_ref){var requiredRole=_ref.requiredRole,children=_ref.children;var token=localStorage.getItem('Authorization');var role=localStorage.getItem('Role');if(token&&!isExpiredToken(token)&&role&&role===requiredRole)return children;else{return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/login\"});}};export default ProtectedRouter;","map":{"version":3,"names":["jwtDecode","Navigate","jsx","_jsx","isExpiredToken","token","decodedToken","now","Date","exp","getTime","ProtectedRouter","_ref","requiredRole","children","localStorage","getItem","role","replace","to"],"sources":["D:/DKHP_demo/dkhp_frontend/src/Router/ProtectedRouter.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\r\nimport { Navigate } from \"react-router-dom\";\r\nconst isExpiredToken=(token)=>{\r\n        const decodedToken = jwtDecode(token);\r\n        const now=new Date();\r\n        return (decodedToken.exp * 1000 < now.getTime());\r\n}\r\nconst ProtectedRouter=({requiredRole, children})=>{\r\n        const token=localStorage.getItem('Authorization');\r\n        const role=localStorage.getItem('Role');\r\n        if(token&&!isExpiredToken(token)&&role&&role===requiredRole) return children;\r\n        else{\r\n            return(<Navigate replace to=\"/login\" />)\r\n        }\r\n}\r\nexport default ProtectedRouter;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,YAAY,CACtC,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAC5C,GAAM,CAAAC,cAAc,CAAC,QAAf,CAAAA,cAAcA,CAAEC,KAAK,CAAG,CACtB,GAAM,CAAAC,YAAY,CAAGN,SAAS,CAACK,KAAK,CAAC,CACrC,GAAM,CAAAE,GAAG,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CACpB,MAAQ,CAAAF,YAAY,CAACG,GAAG,CAAG,IAAI,CAAGF,GAAG,CAACG,OAAO,CAAC,CAAC,CACvD,CAAC,CACD,GAAM,CAAAC,eAAe,CAAC,QAAhB,CAAAA,eAAeA,CAAAC,IAAA,CAA6B,IAA1B,CAAAC,YAAY,CAAAD,IAAA,CAAZC,YAAY,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACtC,GAAM,CAAAT,KAAK,CAACU,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACjD,GAAM,CAAAC,IAAI,CAACF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACvC,GAAGX,KAAK,EAAE,CAACD,cAAc,CAACC,KAAK,CAAC,EAAEY,IAAI,EAAEA,IAAI,GAAGJ,YAAY,CAAE,MAAO,CAAAC,QAAQ,CAAC,IACzE,CACA,mBAAOX,IAAA,CAACF,QAAQ,EAACiB,OAAO,MAACC,EAAE,CAAC,QAAQ,CAAE,CAAC,CAC3C,CACR,CAAC,CACD,cAAe,CAAAR,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}