{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/DKHP_demo/dkhp_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"D:/DKHP_demo/dkhp_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext}from\"react\";import{ClientContext}from\"../Router/ClientRouter\";import{formatDate}from\"../Util/FormatDateTime\";import{useState}from\"react\";import{useEffect}from\"react\";import{getEnrolledCourses}from\"../API/CourseAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimeTablePage=function TimeTablePage(){var _useContext=useContext(ClientContext),courseData=_useContext.courseData,setError=_useContext.setError;var _useState=useState(new Set()),_useState2=_slicedToArray(_useState,2),regCourseIds=_useState2[0],setRegCourseIds=_useState2[1];var daysOfWeek=[\"Thứ 2\",\"Thứ 3\",\"Thứ 4\",\"Thứ 5\",\"Thứ 6\",\"Thứ 7\"];var TimeOfShifts=[\"7:30 - 8:15\",\"8:15 - 9:00\",\"9:00 - 9:45\",\"10:00 - 10:45\",\"10:45 - 11:30\",\"13:00 - 13:45\",\"13:45 - 14:30\",\"14:30-15:15\",\"15:30-16:15\",\"16:15-17:00\"];useEffect(function(){getEnrolledCourses().then(function(res){setRegCourseIds(new Set(res.data));}).catch(function(err){return setError(err);});},[]);var regCourses=courseData.filter(function(course){return regCourseIds.has(course.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"main-page\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"TH\\u1EDCI KHO\\xC1 BI\\u1EC2U T\\u1EA0M TH\\u1EDCI C\\xC1C M\\xD4N \\u0110\\xC3 \\u0110\\u0102NG K\\xCD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive schedule-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered text-center fixed-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-uppercase\",children:\"Th\\u1EE9 / Ti\\u1EBFt\"}),daysOfWeek.map(function(day,index){return/*#__PURE__*/_jsx(\"th\",{className:\"text-uppercase\",children:day},index);})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:TimeOfShifts.map(function(time,index){var days=new Array(6).fill(null);var _iterator=_createForOfIteratorHelper(regCourses),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var course=_step.value;if(course.beginShift<=index+1&&index+1<=course.endShift)days[course.dayOfWeek-2]=course;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{className:\"align-middle\",style:{backgroundColor:\"#F0F1F3\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Ti\\u1EBFt \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"(\",time,\")\"]})]}),days.map(function(day,iDay){if(day===null)return/*#__PURE__*/_jsx(\"td\",{},iDay);else if(day.beginShift===index+1)return/*#__PURE__*/_jsxs(\"td\",{rowSpan:day.endShift-day.beginShift+1,className:\"align-middle\",style:{backgroundColor:\"#F0F1F3\"},children:[/*#__PURE__*/_jsx(\"div\",{children:day.courseId}),/*#__PURE__*/_jsx(\"div\",{children:day.subject.subjectName}),/*#__PURE__*/_jsxs(\"div\",{children:[\" S\\u0129 s\\u1ED1: \",day.totalNumber]}),/*#__PURE__*/_jsx(\"div\",{children:day.room}),/*#__PURE__*/_jsxs(\"div\",{children:[\"B\\u0110:\",formatDate(day.beginDate)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"KT:\",formatDate(day.endDate)]})]},iDay);})]},index);})})]})})})]});};export default TimeTablePage;","map":{"version":3,"names":["useContext","ClientContext","formatDate","useState","useEffect","getEnrolledCourses","jsx","_jsx","jsxs","_jsxs","TimeTablePage","_useContext","courseData","setError","_useState","Set","_useState2","_slicedToArray","regCourseIds","setRegCourseIds","daysOfWeek","TimeOfShifts","then","res","data","catch","err","regCourses","filter","course","has","id","className","children","style","display","flexDirection","justifyContent","alignItems","map","day","index","time","days","Array","fill","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","beginShift","endShift","dayOfWeek","e","f","backgroundColor","iDay","rowSpan","courseId","subject","subjectName","totalNumber","room","beginDate","endDate"],"sources":["D:/DKHP_demo/dkhp_frontend/src/Page/TimeTablePage.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { ClientContext } from \"../Router/ClientRouter\";\r\nimport { formatDate } from \"../Util/FormatDateTime\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { getEnrolledCourses } from \"../API/CourseAPI\";\r\n\r\nconst TimeTablePage=()=>{\r\n          const {courseData, setError}=useContext(ClientContext);\r\n          const[regCourseIds, setRegCourseIds]=useState(new Set());\r\n          const daysOfWeek=[\"Thứ 2\",\"Thứ 3\",\"Thứ 4\",\"Thứ 5\",\"Thứ 6\",\"Thứ 7\"]\r\n          const TimeOfShifts=[\"7:30 - 8:15\",\"8:15 - 9:00\",\"9:00 - 9:45\",\"10:00 - 10:45\",\"10:45 - 11:30\",\"13:00 - 13:45\",\"13:45 - 14:30\",\"14:30-15:15\",\"15:30-16:15\",\"16:15-17:00\"]\r\n\r\n          useEffect(()=>{\r\n                    getEnrolledCourses().then(res=>{\r\n                              setRegCourseIds(new Set(res.data))\r\n                    })\r\n                    .catch(err=>setError(err))\r\n         },[])\r\n         const regCourses=courseData.filter((course)=>(regCourseIds.has(course.id)))\r\n        return(\r\n          <div className=\"main-page\">\r\n                              <div  style={{\r\n                                        display: \"flex\",\r\n                                        flexDirection: \"row\",\r\n                                        justifyContent: \"center\",\r\n                                        alignItems: \"center\",\r\n                              }}>\r\n                                        <h4 className=\"text-center\">THỜI KHOÁ BIỂU TẠM THỜI CÁC MÔN ĐÃ ĐĂNG KÍ</h4>\r\n                    </div>\r\n                    <div className=\"container\">\r\n                              <div className=\"table-responsive schedule-table\">\r\n                                        <table className=\"table table-bordered text-center fixed-table\">\r\n                                        <thead>\r\n                                                  <tr>\r\n                                                      <th className=\"text-uppercase\">Thứ / Tiết</th>\r\n                                                      {daysOfWeek.map((day, index)=>(<th className=\"text-uppercase\" key={index}>{day}</th>))}\r\n                                                  </tr>\r\n                                              </thead>\r\n                                        <tbody>\r\n                                        {TimeOfShifts.map((time,index)=>{\r\n                                                const days=new Array(6).fill(null);\r\n                                                for(let course of regCourses){\r\n                                                    if(course.beginShift<=(index+1)&&(index+1)<=course.endShift) days[course.dayOfWeek-2]=course;\r\n                                                }\r\n                                                  return(\r\n                                                  <tr key={index}>\r\n                                                            <th className=\"align-middle\" style={{backgroundColor: \"#F0F1F3\"}}>\r\n                                                                <div>Tiết {index+1}</div>\r\n                                                                <div>({time})</div>\r\n                                                            </th>\r\n                                                            {days.map((day, iDay)=>{\r\n                                                                if(day===null) return(<td key={iDay}></td>)\r\n                                                                else if(day.beginShift===(index+1)) return(\r\n                                                                    <td rowSpan={day.endShift-day.beginShift+1} className=\"align-middle\" style={{backgroundColor: \"#F0F1F3\"}} key={iDay}>\r\n                                                                        <div>{day.courseId}</div>\r\n                                                                        <div>{day.subject.subjectName}</div>\r\n                                                                        <div> Sĩ số: {day.totalNumber}</div>\r\n                                                                        <div>{day.room}</div>\r\n                                                                        <div>BĐ:{formatDate(day.beginDate)}</div>\r\n                                                                        <div>KT:{formatDate(day.endDate)}</div>\r\n                                                                    </td>\r\n                                                                )\r\n                                                            })}\r\n                                                  </tr>\r\n                                                  )\r\n                                        })}\r\n                                        </tbody>\r\n                                        </table>\r\n                              </div>\r\n                    </div>\r\n\r\n          </div>\r\n          )\r\n}\r\nexport default TimeTablePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}