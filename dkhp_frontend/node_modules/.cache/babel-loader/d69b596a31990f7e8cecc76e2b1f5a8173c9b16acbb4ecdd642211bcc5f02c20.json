{"ast":null,"code":"var _jsxFileName = \"D:\\\\DKHP_demo\\\\dkhp_frontend\\\\src\\\\Page\\\\OpenedCoursesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useContext, useMemo } from \"react\";\nimport CourseTable from \"../Component/CourseTable\";\nimport { enrollCourses } from \"../API/StudentAPI\";\nimport { ClientContext } from \"../Router/ClientRouter\";\nimport { OpenedCourses_ResultModal } from \"../Component/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OpenedCoursesPage = () => {\n  _s();\n  const {\n    courseData,\n    setError\n  } = useContext(ClientContext);\n  const [modal, setModal] = useState({\n    show: false,\n    data: []\n  });\n  const [checkedIds, setCheckedIds] = useState(new Set());\n  const [isDKButtonDisabled, setIsDKButtonDisabled] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  function handleDKButton(e) {\n    e.preventDefault();\n    enrollCourses([...checkedIds]).then(res => {\n      setModal({\n        show: true,\n        data: new Map(Object.entries(res.data))\n      });\n      setCheckedIds(new Set());\n    }).catch(err => setError(err));\n  }\n  const handleClose = () => {\n    setModal({\n      show: false,\n      data: []\n    });\n  };\n  useEffect(() => {\n    if (checkedIds.size === 0) setIsDKButtonDisabled(true);else setIsDKButtonDisabled(false);\n  }, [checkedIds.size]);\n  const handleFilter = item => {\n    const re = new RegExp(\"^\" + search, \"i\");\n    return item.courseId.match(re);\n  };\n  let filterCourses = search === \"\" ? courseData : courseData.filter(handleFilter);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ContentAlignment\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Danh s\\xE1ch l\\u1EDBp m\\u1EDF ch\\u1EDD \\u0111\\u0103ng k\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: e => handleDKButton(e),\n          disabled: isDKButtonDisabled,\n          children: \"\\u0110\\u0103ng k\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"d-flex col-lg-6\",\n          role: \"search\",\n          onSubmit: e => {\n            e.preventDefault();\n            setSearch(searchTerm);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control me-2\",\n            type: \"search\",\n            placeholder: \"T\\xECm ki\\u1EBFm theo m\\xE3 l\\u1EDBp\",\n            id: \"Search\",\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-success\",\n            type: \"submit\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CourseTable, {\n        filterCourses: filterCourses,\n        checkedIds: checkedIds,\n        setCheckedIds: setCheckedIds\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(OpenedCourses_ResultModal, {\n      modal: modal,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true);\n};\n_s(OpenedCoursesPage, \"3DsfhWlabBceq7MbN1nEc5Rna24=\");\n_c = OpenedCoursesPage;\nexport default OpenedCoursesPage;\nvar _c;\n$RefreshReg$(_c, \"OpenedCoursesPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","useMemo","CourseTable","enrollCourses","ClientContext","OpenedCourses_ResultModal","jsxDEV","_jsxDEV","Fragment","_Fragment","OpenedCoursesPage","_s","courseData","setError","modal","setModal","show","data","checkedIds","setCheckedIds","Set","isDKButtonDisabled","setIsDKButtonDisabled","searchTerm","setSearchTerm","search","setSearch","handleDKButton","e","preventDefault","then","res","Map","Object","entries","catch","err","handleClose","size","handleFilter","item","re","RegExp","courseId","match","filterCourses","filter","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","disabled","role","onSubmit","placeholder","id","onChange","target","value","_c","$RefreshReg$"],"sources":["D:/DKHP_demo/dkhp_frontend/src/Page/OpenedCoursesPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext, useMemo } from \"react\";\r\nimport CourseTable from \"../Component/CourseTable\";\r\nimport { enrollCourses } from \"../API/StudentAPI\";\r\nimport { ClientContext} from \"../Router/ClientRouter\";\r\nimport { OpenedCourses_ResultModal } from \"../Component/Modal\";\r\nconst OpenedCoursesPage=()=>{\r\n          const {courseData,setError}=useContext(ClientContext);\r\n          const[modal, setModal]=useState({show:false, data:[]});\r\n          const [checkedIds, setCheckedIds]=useState(new Set());\r\n          const [isDKButtonDisabled, setIsDKButtonDisabled]=useState(true);\r\n          const [searchTerm, setSearchTerm]=useState(\"\");\r\n          const [search, setSearch]=useState(\"\");\r\n          function handleDKButton(e){\r\n                e.preventDefault();\r\n                enrollCourses([...checkedIds]).then(res=>{\r\n                        setModal({show:true, data:new Map(Object.entries(res.data))});\r\n                        setCheckedIds(new Set())\r\n                })\r\n                .catch(err=>setError(err))\r\n            }\r\n            const handleClose=()=>{\r\n                  setModal({show:false, data:[]});\r\n            }\r\n          useEffect(()=>{\r\n                if(checkedIds.size===0) setIsDKButtonDisabled(true);\r\n                else setIsDKButtonDisabled(false);\r\n          },[checkedIds.size])\r\n          const handleFilter = (item) => {\r\n                const re = new RegExp(\"^\"+search,\"i\");\r\n                return item.courseId.match(re);\r\n        }\r\n          let filterCourses=(search===\"\")?courseData:courseData.filter(handleFilter);\r\n         return(\r\n          <>\r\n          <div className=\"main-page\">\r\n                    <div className=\"ContentAlignment\">\r\n                              <h4>Danh sách lớp mở chờ đăng kí</h4>\r\n                              <button type=\"button\" className=\"btn btn-primary\" onClick={(e)=>handleDKButton(e)} disabled={isDKButtonDisabled}>Đăng kí</button>\r\n                              <form className=\"d-flex col-lg-6\" role=\"search\" onSubmit={(e)=>{e.preventDefault(); setSearch(searchTerm);}}>\r\n                                        <input className=\"form-control me-2\" type=\"search\" placeholder=\"Tìm kiếm theo mã lớp\" id=\"Search\" onChange={(e)=>setSearchTerm(e.target.value)}/>\r\n                                        <button className=\"btn btn-outline-success\" type=\"submit\" >Search</button>\r\n                              </form>\r\n                    </div>\r\n                    <CourseTable filterCourses={filterCourses} checkedIds={checkedIds} setCheckedIds={setCheckedIds}/>\r\n          </div>\r\n           <OpenedCourses_ResultModal modal={modal} handleClose={handleClose}/>\r\n          </>\r\n         );\r\n}\r\nexport default OpenedCoursesPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}