{"ast":null,"code":"import { API_ENDPOINT } from \"../Util/Constraint\";\nimport AxiosService from \"../Util/AxiosService\";\nimport { SSE } from \"sse.js\";\nconst url = '/api/courses';\nexport const getOpenedCourses = () => {\n  return AxiosService.get(API_ENDPOINT + url + '/openedCourses');\n};\nexport const getEnrolledCourses = () => {\n  return AxiosService.get(API_ENDPOINT + url + '/enrolledCourses');\n};\nexport const getStudiedCourses = semesterId => {\n  return AxiosService.get(API_ENDPOINT + url + '/enrolledCourses?semesterId=' + semesterId);\n};\nexport const addCourse = CourseDTO => {\n  return AxiosService.post(API_ENDPOINT + url + '/admin/addCourse', CourseDTO, true);\n};\nexport const getAllCourses = () => {\n  return AxiosService.get(API_ENDPOINT + url + '/admin/all');\n};\nexport const removeCourse = id => {\n  return AxiosService.delete(API_ENDPOINT + url + '/admin/removeCourse/' + id);\n};\nexport const getUpdatedRegNumbers = setRegNumbers => {\n  var sseClient = new SSE(API_ENDPOINT + url + \"/updateRegNumbers\", {\n    headers: {\n      Authorization: localStorage.getItem(\"Authorization\")\n    }\n  });\n  sseClient.addEventListener(\"message\", e => {\n    var jsonObject = JSON.parse(e.data);\n    var updatedRegNumbers = new Map(Object.entries(jsonObject));\n    //console.log(\"Reg numbers\",updatedRegNumbers);\n    setRegNumbers(updatedRegNumbers);\n  });\n  sseClient.addEventListener(\"error\", err => {\n    console.log(\"Error \" + err);\n  });\n  return sseClient;\n};","map":{"version":3,"names":["API_ENDPOINT","AxiosService","SSE","url","getOpenedCourses","get","getEnrolledCourses","getStudiedCourses","semesterId","addCourse","CourseDTO","post","getAllCourses","removeCourse","id","delete","getUpdatedRegNumbers","setRegNumbers","sseClient","headers","Authorization","localStorage","getItem","addEventListener","e","jsonObject","JSON","parse","data","updatedRegNumbers","Map","Object","entries","err","console","log"],"sources":["D:/DKHP_demo/dkhp_frontend/src/API/CourseAPI.js"],"sourcesContent":["import { API_ENDPOINT } from \"../Util/Constraint\";\r\nimport AxiosService from \"../Util/AxiosService\";\r\nimport {SSE} from \"sse.js\"\r\nconst url='/api/courses';\r\n\r\nexport const getOpenedCourses=()=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/openedCourses');\r\n}\r\n\r\nexport const getEnrolledCourses=()=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/enrolledCourses')\r\n}\r\n\r\nexport const getStudiedCourses=(semesterId)=>{\r\n          return AxiosService.get(API_ENDPOINT + url+'/enrolledCourses?semesterId='+semesterId)\r\n}\r\n\r\nexport const addCourse=(CourseDTO)=>{\r\n    return AxiosService.post(API_ENDPOINT + url+'/admin/addCourse',CourseDTO,true);\r\n}\r\n\r\nexport const getAllCourses = () => {\r\n    return AxiosService.get(API_ENDPOINT + url + '/admin/all');\r\n}\r\n\r\nexport const removeCourse = (id) => {\r\n    return AxiosService.delete(API_ENDPOINT + url + '/admin/removeCourse/' + id);\r\n}\r\nexport const getUpdatedRegNumbers=(setRegNumbers)=>{\r\n    var sseClient= new SSE(API_ENDPOINT + url +\"/updateRegNumbers\",{\r\n      headers:{Authorization: localStorage.getItem(\"Authorization\")}\r\n    });\r\n    sseClient.addEventListener(\"message\",(e)=>{\r\n        var jsonObject=JSON.parse(e.data);\r\n        var updatedRegNumbers=new Map(Object.entries(jsonObject));\r\n        //console.log(\"Reg numbers\",updatedRegNumbers);\r\n        setRegNumbers(updatedRegNumbers);\r\n    })\r\n    sseClient.addEventListener(\"error\",(err)=>{\r\n        console.log(\"Error \"+err);\r\n    })\r\n    return sseClient;\r\n}"],"mappings":"AAAA,SAASA,YAAY,QAAQ,oBAAoB;AACjD,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,SAAQC,GAAG,QAAO,QAAQ;AAC1B,MAAMC,GAAG,GAAC,cAAc;AAExB,OAAO,MAAMC,gBAAgB,GAACA,CAAA,KAAI;EACxB,OAAOH,YAAY,CAACI,GAAG,CAACL,YAAY,GAAGG,GAAG,GAAC,gBAAgB,CAAC;AACtE,CAAC;AAED,OAAO,MAAMG,kBAAkB,GAACA,CAAA,KAAI;EAC1B,OAAOL,YAAY,CAACI,GAAG,CAACL,YAAY,GAAGG,GAAG,GAAC,kBAAkB,CAAC;AACxE,CAAC;AAED,OAAO,MAAMI,iBAAiB,GAAEC,UAAU,IAAG;EACnC,OAAOP,YAAY,CAACI,GAAG,CAACL,YAAY,GAAGG,GAAG,GAAC,8BAA8B,GAACK,UAAU,CAAC;AAC/F,CAAC;AAED,OAAO,MAAMC,SAAS,GAAEC,SAAS,IAAG;EAChC,OAAOT,YAAY,CAACU,IAAI,CAACX,YAAY,GAAGG,GAAG,GAAC,kBAAkB,EAACO,SAAS,EAAC,IAAI,CAAC;AAClF,CAAC;AAED,OAAO,MAAME,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAOX,YAAY,CAACI,GAAG,CAACL,YAAY,GAAGG,GAAG,GAAG,YAAY,CAAC;AAC9D,CAAC;AAED,OAAO,MAAMU,YAAY,GAAIC,EAAE,IAAK;EAChC,OAAOb,YAAY,CAACc,MAAM,CAACf,YAAY,GAAGG,GAAG,GAAG,sBAAsB,GAAGW,EAAE,CAAC;AAChF,CAAC;AACD,OAAO,MAAME,oBAAoB,GAAEC,aAAa,IAAG;EAC/C,IAAIC,SAAS,GAAE,IAAIhB,GAAG,CAACF,YAAY,GAAGG,GAAG,GAAE,mBAAmB,EAAC;IAC7DgB,OAAO,EAAC;MAACC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,eAAe;IAAC;EAC/D,CAAC,CAAC;EACFJ,SAAS,CAACK,gBAAgB,CAAC,SAAS,EAAEC,CAAC,IAAG;IACtC,IAAIC,UAAU,GAACC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACI,IAAI,CAAC;IACjC,IAAIC,iBAAiB,GAAC,IAAIC,GAAG,CAACC,MAAM,CAACC,OAAO,CAACP,UAAU,CAAC,CAAC;IACzD;IACAR,aAAa,CAACY,iBAAiB,CAAC;EACpC,CAAC,CAAC;EACFX,SAAS,CAACK,gBAAgB,CAAC,OAAO,EAAEU,GAAG,IAAG;IACtCC,OAAO,CAACC,GAAG,CAAC,QAAQ,GAACF,GAAG,CAAC;EAC7B,CAAC,CAAC;EACF,OAAOf,SAAS;AACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}